<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dual Pointers | Chaoxiang&#39;s Study Notes</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/studyPages/assets/css/0.styles.a959e532.css" as="style"><link rel="preload" href="/studyPages/assets/js/app.0d24fe6c.js" as="script"><link rel="preload" href="/studyPages/assets/js/2.40ed8e37.js" as="script"><link rel="preload" href="/studyPages/assets/js/10.fbfb1a98.js" as="script"><link rel="prefetch" href="/studyPages/assets/js/11.70c7d8cc.js"><link rel="prefetch" href="/studyPages/assets/js/12.a4839733.js"><link rel="prefetch" href="/studyPages/assets/js/13.ab36ff8f.js"><link rel="prefetch" href="/studyPages/assets/js/14.9cbbe0c8.js"><link rel="prefetch" href="/studyPages/assets/js/15.59c5bb23.js"><link rel="prefetch" href="/studyPages/assets/js/16.e8b5e2e8.js"><link rel="prefetch" href="/studyPages/assets/js/3.57036479.js"><link rel="prefetch" href="/studyPages/assets/js/4.e7c996f5.js"><link rel="prefetch" href="/studyPages/assets/js/5.6eff8140.js"><link rel="prefetch" href="/studyPages/assets/js/6.17d5dd20.js"><link rel="prefetch" href="/studyPages/assets/js/7.c6a72cbf.js"><link rel="prefetch" href="/studyPages/assets/js/8.3e6421d4.js"><link rel="prefetch" href="/studyPages/assets/js/9.9f62ac81.js">
    <link rel="stylesheet" href="/studyPages/assets/css/0.styles.a959e532.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/studyPages/" class="home-link router-link-active"><!----> <span class="site-name">Chaoxiang's Study Notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/studyPages/" class="nav-link">
  HOME
</a></div><div class="nav-item"><a href="/studyPages/algorithm/" class="nav-link router-link-active">
  ALGORITHM
</a></div><div class="nav-item"><a href="/studyPages/javascript/" class="nav-link">
  JAVASCRIPT
</a></div><div class="nav-item"><a href="https://github.com/LUAN-Peter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GITHUB
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/studyPages/" class="nav-link">
  HOME
</a></div><div class="nav-item"><a href="/studyPages/algorithm/" class="nav-link router-link-active">
  ALGORITHM
</a></div><div class="nav-item"><a href="/studyPages/javascript/" class="nav-link">
  JAVASCRIPT
</a></div><div class="nav-item"><a href="https://github.com/LUAN-Peter" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GITHUB
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/studyPages/algorithm/" aria-current="page" class="sidebar-link">Algorithm</a></li><li><a href="/studyPages/algorithm/dualPointer.html" aria-current="page" class="active sidebar-link">Dual Pointers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/studyPages/algorithm/dualPointer.html#trapping-rain-water" class="sidebar-link">Trapping Rain Water</a></li><li class="sidebar-sub-header"><a href="/studyPages/algorithm/dualPointer.html#remove-duplicated-sorted-array-2" class="sidebar-link">Remove Duplicated Sorted Array 2</a></li></ul></li><li><a href="/studyPages/algorithm/greedy.html" class="sidebar-link">Greedy Strategy</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dual-pointers"><a href="#dual-pointers" class="header-anchor">#</a> Dual Pointers</h1> <blockquote><p>Pointer stores the address value of data. In other words, it points to the location of the target data.</p></blockquote> <p>Sometimes we can use dual pointers(or two pointers) to simplify calculation. There are 2 kinds of techniques most widely used. The one is <strong>Fast-Slow Pointers</strong>, the other is <strong>Collided Pointers</strong>. But anyway, they just move in different direction, and the nature still not change.</p> <h2 id="trapping-rain-water"><a href="#trapping-rain-water" class="header-anchor">#</a> Trapping Rain Water</h2> <p><a href="https://leetcode-cn.com/problems/trapping-rain-water/" target="_blank" rel="noopener noreferrer">to LeetCode 42<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.<br> <strong>Input</strong>: [0, 1, 0, 2, 1, 0, 1, 3, 2, 1, 2, 1]<br> <strong>Output</strong>: 6</p></blockquote> <p><img src="https://assets.leetcode.com/uploads/2018/10/22/rainwatertrap.png" alt="Image"></p> <h3 id="thinking"><a href="#thinking" class="header-anchor">#</a> Thinking:</h3> <p>The maximum trapping water in position <code>i</code> depends on the minimum between the maximum on the left and right sides. Then we have <code>Volumn[i] = Max(0, Height[i] - Min(Max_left, Max_right))</code>.</p> <p>So we can use <strong>Collided Pointers</strong> to scan the array, and maintain the maximum. However, we should consider how to move the pointer next. I handle the smaller one between <code>left</code> and <code>right</code>.</p> <p>Here we prove the rationality. Assuming <code>height[left] &lt; height[right]</code>, we have <code>Max_left &lt; Max_right</code>, vice versa. To prove this step, just consider <code>Max_left = height[left]</code> and <code>Max_right = height[right]</code> at the beginning. So we can only assure the smaller's <code>left and right boundaries</code>. Then we add the smaller's capacity to the <code>result</code> and move it to the next one. After moving it, we update the maximum corresponding. During the process, the side(left or right) with maximum value pointed currently, also has the maximum. That is to say in formula: <code>height[left] &lt; height[right] =&gt; Max_left &lt; Max_right</code>, vice versa.<br>
And then it is kinds of mathmatical induction.</p> <h3 id="solution"><a href="#solution" class="header-anchor">#</a> Solution:</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {number[]} height
 * @return {number}
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">trap</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">height</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token constant">N</span> <span class="token operator">=</span> height<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">let</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token constant">N</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> maxLeft <span class="token operator">=</span> height<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> maxRight <span class="token operator">=</span> height<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>height<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> height<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            result <span class="token operator">+=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>maxLeft<span class="token punctuation">,</span> maxRight<span class="token punctuation">)</span> <span class="token operator">-</span> height<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            left<span class="token operator">++</span><span class="token punctuation">;</span>
            maxLeft <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>height<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> maxLeft<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            result <span class="token operator">+=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>maxLeft<span class="token punctuation">,</span> maxRight<span class="token punctuation">)</span> <span class="token operator">-</span> height<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            right<span class="token operator">--</span><span class="token punctuation">;</span>
            maxRight <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>height<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">,</span> maxRight<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="remove-duplicated-sorted-array-2"><a href="#remove-duplicated-sorted-array-2" class="header-anchor">#</a> Remove Duplicated Sorted Array 2</h2> <p><a href="https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii/" target="_blank" rel="noopener noreferrer">to LeetCode 80<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>Given a <strong>sorted</strong> array nums, remove the duplicates in-place such that duplicates appeared at most <strong>twice</strong> and return the <strong>new length</strong>. Do not allocate extra space for another array; you must do this by modifying the input array in-place with <strong>O(1)</strong> extra memory.<br>
Clarification:<br>
Confused why the returned value is an integer, but your answer is an array?<br>
Note that the input array is passed in by reference, which means a modification to the input array will be known to the caller.<br> <strong>Input</strong>: [1, 1, 1, 2, 2, 3]<br> <strong>Output</strong>: 5, nums = [1, 1, 2, 2, 3]</p></blockquote> <h3 id="thinking-2"><a href="#thinking-2" class="header-anchor">#</a> Thinking:</h3> <p>We can deduct that if <code>nums[i] == nums[i - 2]</code>, the number of value in <code>i</code> position will be 2 or more, because it is a sorted array. So we can consider using <strong>Fast-Slow Pointers</strong> - to maintains a slow pointer and a fast pointer. The slow pointer records the position of the actual array we want to return, that is to say point to the end of the result array. Though we do not cut the array, can we still get the result from the first <code>slow</code> number of the array. The fast pointer records the position we are checking.</p> <h3 id="solution-2"><a href="#solution-2" class="header-anchor">#</a> Solution:</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * @param {number[]} nums
 * @return {number}
 */</span>
<span class="token keyword">var</span> <span class="token function-variable function">removeDuplicates</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token constant">N</span> <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">N</span> <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">N</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> slow <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> fast <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>fast <span class="token operator">&lt;</span> <span class="token constant">N</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span> <span class="token operator">!=</span> nums<span class="token punctuation">[</span>slow <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            nums<span class="token punctuation">[</span>slow<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>fast<span class="token punctuation">]</span><span class="token punctuation">;</span>
            slow<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        fast<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> slow<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/studyPages/algorithm/" class="prev router-link-active">
        Algorithm
      </a></span> <span class="next"><a href="/studyPages/algorithm/greedy.html">
        Greedy Strategy
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/studyPages/assets/js/app.0d24fe6c.js" defer></script><script src="/studyPages/assets/js/2.40ed8e37.js" defer></script><script src="/studyPages/assets/js/10.fbfb1a98.js" defer></script>
  </body>
</html>
